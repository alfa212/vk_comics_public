# Сбор комиксов и их публикация в группе ВК

Приложение собирает комиксы с сайта https://xkcd.com и публикует их в указанной группе ВК.

## Инструкция по установке и настройке

Для установки скрипта скопируйте следующие файлы в одну папку:

- main.py
- requirements.txt

Затем перейдите в терминале в данную папку и запустите команду:

```
pip install -r requirements.txt
```

Кроме этого для использования приложения необходимо создать файл `.env` в корневой папке и указать там две обязательных настройки:

Ключ доступа пользователя (токен) для публикации материалов в ВК. Можно получить здесь: https://dev.vk.com/api/access-token/implicit-flow-user

```
VK_ACCESS_TOKEN='Ваш_токен'
```

ID группы в ВК, куда будут публиковаться комиксы (узнать ID вашей группы можно здесь: https://regvk.com/id):

```
VK_GROUP_ID='ID_вашей_группы'
```

## Запуск скрипта

Для запуска скрипта наберите в консоли следующую команду:

```
python3 main.py
```

После этого в течение нескольких секунд на стене вашей группы должен появиться изображение комикса с текстовым описанием.

## Использование

Приложение публикует случайный комикс с сайта https://xkcd.com.

Чтобы публиковать комиксы периодически, добавьте задание на выполнение скрипта в планировщике Cron на вашем сервере.


За скачивание комиксов отвечают следующие функции:

- `get_random_comic_number()` - возвращает случайный номер комикса для публикации из списка доступных на сайте https://xkcd.com. 
- `fetch_comic_pic_title_ext()` - сохраняет скаченный файл комикса, возвращает текстовое описание комикса и расширение файла.

За публикацию комиксов в группе ВК отвечают три функции:

- `upload_file_to_vk()` - отправляет файл в ВК.
- `sending_requests_to_vk()` - получает от API ВК адрес для загрузки файла, сохраняет его там и публикует на стене указанной группы.
- `find_vk_errors()` - проверяет, не прислало ли API ВК ошибку. Если ошибка, то прерывает выполнение приложения и сообщает пользователю код и текст ошибки.


## Цель проекта

Создание простого средства для автоматизации ведения групп в социальной сети ВКонтакте.

